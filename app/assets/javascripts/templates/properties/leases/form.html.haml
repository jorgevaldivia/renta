.panel.ibox
  .panel-heading
    .panel-title.ibox-title
      %h4= I18n.t(:add_new, name: Lease.model_name.human)
  %form.form-horizontal{name: "form", "novalidate" => "", 'ng-submit' => 'save()'}
    .panel-body.ibox-content
      .form-group{"highlight-if-error" => "start_date"}
        %label.col-sm-2.control-label= Lease.human_attribute_name(:start_date)
        .col-sm-6
          .form-control-icon.mb-xs
            %input.form-control.datepicker.server-validation{type: "text", "ng-model" => "record.lease.start_date", name: "start_date"}/
            %i.the-icon.fa.fa-calendar.text-muted
            %span{"error-messages" => "start_date"}


      .form-group{"highlight-if-error" => "end_date"}
        %label.col-sm-2.control-label= Lease.human_attribute_name(:end_date)
        .col-sm-6
          .form-control-icon.mb-xs
            %input.form-control.datepicker{type: "text", "ng-model" => "record.lease.end_date", name: "end_date"}/
            %i.the-icon.fa.fa-calendar.text-muted
            %span{"error-messages" => "end_date"}

      .form-group{"highlight-if-error" => "interval, frequency"}
        %label.col-sm-2.control-label= Lease.human_attribute_name(:frequency)
        .col-sm-2
          %input.form-control{type: "text", "ng-model" => "record.lease.interval", name: "interval"}/
          %span{"error-messages" => "interval"}

        .col-sm-3
          %select.form-control{type: "text", "ng-model" => "record.lease.frequency", name: "frequency"}
            - Lease::FREQUENCY_TYPES.each do |type|
              %option{value: type}
                = I18n.t("activerecord.models.lease.frequency_types.#{type}")
          %span{"error-messages" => "frequency"}
      
      .form-group{"highlight-if-error" => "rent"}
        %label.col-sm-2.control-label= Lease.human_attribute_name(:rent)
        .col-sm-6
          .form-control-icon.mb-xs
            %input.form-control{type: "text", "ng-model" => "record.lease.rent", name: "rent"}/
            %i.the-icon.fa.fa-usd.text-muted
            %span{"error-messages" => "rent"}

      .form-group{"highlight-if-error" => "deposit"}
        %label.col-sm-2.control-label= Lease.human_attribute_name(:deposit)
        .col-sm-6
          .form-control-icon.mb-xs
            %input.form-control{type: "text", "ng-model" => "record.lease.deposit", name: "deposit"}/
            %i.the-icon.fa.fa-usd.text-muted
            %span{"error-messages" => "deposit"}

      %h5.no-margin-b
        %strong= Lease.human_attribute_name(:tenant, count: 2)

      %hr.mnr-md.mnl-md/

      .form-group{"highlight-if-error" => "first_name"}
        %label.col-sm-2.control-label= User.human_attribute_name(:first_name)
        .col-sm-6
          %input.form-control{type: "text", "ng-model" => "record.lease.tenant.first_name", name: "first_name"}/
          %span{"error-messages" => "first_name"}

      .form-group{"highlight-if-error" => "last_name"}
        %label.col-sm-2.control-label= User.human_attribute_name(:last_name)
        .col-sm-6
          %input.form-control{type: "text", "ng-model" => "record.lease.tenant.last_name", name: "last_name"}/
          %span{"error-messages" => "last_name"}

      .form-group{"highlight-if-error" => "email"}
        %label.col-sm-2.control-label= User.human_attribute_name(:email)
        .col-sm-6
          %input.form-control{type: "text", "ng-model" => "record.lease.tenant.email", name: "email"}/
          %span{"error-messages" => "email"}

    .panel-footer
      .form-group.mb-0
        %label.col-sm-2.control-label
        .col-sm-10
          %button.btn.btn-primary{type: "submit", "ng-disabled" => "form.$pristine"}
            = I18n.t(:save_record, name: Lease.model_name.human)
          %button.btn.btn-default{type: "reset"}= I18n.t(:reset)
